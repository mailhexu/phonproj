# Spec: Band Structure Calculation and Plotting

## Purpose
This capability provides functions for calculating and plotting phonon band structures from phonopy objects.

## Requirements

### Requirement: Calculate Band Structure Function
The system SHALL provide a function `calculate_band_structure(phonopy_obj, q_points)` that computes phonon eigenvalues and eigenvectors for a list of q-points using a loaded phonopy object.
#### Scenario: Given a loaded phonopy object for BaTiO3
- **WHEN** calling `calculate_band_structure` with a list of q-points
- **THEN** it returns correct eigenvalues and eigenvectors

### Requirement: Plot Band Structure Function
The system SHALL provide a function `plot_band_structure(phonopy_obj, q_path, ax=None, show=True)` that plots the phonon band structure along a specified q-point path and SHALL support matplotlib axes and optionally display the plot.
#### Scenario: Given a loaded phonopy object for PbTiO3
- **WHEN** calling `plot_band_structure` with a standard q-path
- **THEN** it produces a correct band structure plot

### Requirement: Dataset Support
Both functions MUST support BaTiO3 and PbTiO3 datasets as loaded by the phonopy loader.
#### Scenario: BaTiO3 and PbTiO3 datasets
- **WHEN** using either BaTiO3 or PbTiO3 dataset
- **THEN** the calculation and plotting functions work correctly

### Requirement: Publication-Quality Plotting
The plotting function MUST produce a publication-quality band structure plot, with labeled axes and high-resolution output.
#### Scenario: Publication-quality output
- **WHEN** the plot is generated by `plot_band_structure`
- **THEN** it has labeled axes and is suitable for publication

### Requirement: Return Format for Analysis
The calculation function MUST return eigenvalues and eigenvectors in a format compatible with further analysis (e.g., numpy arrays).
#### Scenario: Numpy compatibility
- **WHEN** the output of `calculate_band_structure` is used
- **THEN** it is compatible with numpy and can be used for further analysis
